packages:
  __CNA_PACKAGE__:
    actions:
      get-s3-upload-token:
        function: actions/get-s3-upload-token
        web: yes
        runtime: 'nodejs:10'
        inputs:
          s3Bucket: $S3_BUCKET
          awsSecretAccessKey: $AWS_SECRET_ACCESS_KEY
          awsAccessKeyId: $AWS_ACCESS_KEY_ID
          expiryDuration: $EXPIRATION_DURATION
          owApihost: $AIO_RUNTIME_APIHOST
          whitelist: $WHITELIST
        annotations:
          # this is important security wise
          final: true
      get-azure-blob-token:
        function: actions/get-azure-blob-token
        web: yes
        runtime: 'nodejs:10'
        inputs:
          azureStorageAccount: $AZURE_STORAGE_ACCOUNT
          azureStorageAccessKey: $AZURE_STORAGE_ACCESS_KEY
          expiryDuration: $EXPIRATION_DURATION
          owApihost: $AIO_RUNTIME_APIHOST
          whitelist: $WHITELIST
        annotations:
          # this is important security wise
          final: true
